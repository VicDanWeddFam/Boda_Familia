<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boda — Nombre & Nombre</title>
  <meta name="description" content="Invitación y contacto para nuestra boda. Español y Valencià." />
  <meta property="og:title" content="Boda — Nombre & Nombre" />
  <meta property="og:description" content="Invitación y contacto para nuestra boda. Español y Valencià." />
  <meta property="og:type" content="website" />
  <style>
    :root{
      --bg:#faf9f7;--card:#ffffff;--ink:#1d1d1f;--muted:#6b7280;--accent:#8b5cf6;--accent-2:#a78bfa;--ring:#e5e7eb;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;color:var(--ink);background:var(--bg)}
    a{color:inherit}
    .container{max-width:960px;margin:0 auto;padding:24px}
    header{position:sticky;top:0;background:rgba(250,249,247,.8);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid var(--ring);z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{font-weight:700;letter-spacing:.5px}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{padding:10px 14px;border-radius:999px;border:1px solid var(--ring);background:var(--card);cursor:pointer}
    .tab[aria-current="page"]{border-color:var(--accent-2)}
    .lang-switch{display:flex;gap:8px}
    .chip{border:1px solid var(--ring);background:var(--card);padding:8px 12px;border-radius:999px;cursor:pointer}
    .chip.active{border-color:var(--accent);box-shadow:0 0 0 3px rgba(139,92,246,.15)}
    main{display:grid;gap:32px;padding-top:24px}
    section{background:var(--card);border:1px solid var(--ring);border-radius:20px;padding:24px}
    .hero{display:grid;gap:12px;text-align:center;padding:40px 24px;border-radius:24px;background:conic-gradient(from 140deg at 50% 50%, #faf5ff, #ffffff, #f0f9ff)}
    .hero h1{margin:0;font-size:clamp(28px,5vw,44px)}
    .hero p{margin:0;color:var(--muted);font-size:clamp(14px,2.4vw,18px)}
    .row{display:grid;gap:24px}
    @media (min-width:768px){.row{grid-template-columns:1fr 1fr}}
    .card{border:1px solid var(--ring);border-radius:16px;padding:20px}
    .kicker{letter-spacing:.12em;text-transform:uppercase;color:var(--muted);font-size:12px}
    .btn{display:inline-block;margin-top:12px;padding:12px 16px;border-radius:12px;border:1px solid var(--accent-2);background:var(--accent);color:white;text-decoration:none}
    footer{color:var(--muted);font-size:14px;padding:24px 0}
    .list{padding-left:18px}
    .list li{margin:6px 0}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .muted{color:var(--muted)}

    /* --- Slideshow (Opción 2: “fijo” pero adaptable) --- */
    .slideshow {
      position: relative;
      border: 1px solid var(--ring);
      border-radius: 16px;
      overflow: hidden;
      background: var(--card); /* color de fondo/barras */
      margin-inline: auto;     /* centrar */
    }
    /* Controla el tamaño aquí: --w = ancho adaptable; --h = alto fijo */
    .slideshow.box {
      --w: clamp(280px, 90vw, 640px); /* cambia límites a tu gusto */
      --h: 280px;                     /* alto fijo: cámbialo si quieres */
      inline-size: var(--w);
      block-size: var(--h);
    }
    .slideshow img{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit: contain;      /* clave: no recorta ni deforma */
      object-position: center;  /* centra la imagen */
      opacity:0;
      transition: opacity .8s;
    }
    .slideshow img.active{ opacity:1; }

    .map-wrap{border:1px solid var(--ring);border-radius:16px;overflow:hidden}
    .map-wrap iframe{width:100%;height:360px;border:0}
  </style>
</head>
<body>
  <a href="#contenido" class="sr-only">Saltar al contenido</a>
  <header>
    <div class="container nav">
      <div class="brand" data-i18n="brand">Nombre & Nombre</div>
      <nav class="tabs" aria-label="Secciones">
        <a class="tab" href="#invitacion" data-i18n="tab_inv">Invitación</a>
        <a class="tab" href="#contacto" data-i18n="tab_cta">Contacto</a>
      </nav>
      <div class="lang-switch" role="group" aria-label="Idioma">
        <button class="chip" data-lang="es" aria-pressed="true">ES</button>
        <button class="chip" data-lang="ca">VAL</button>
      </div>
    </div>
  </header>

  <main id="contenido" class="container">
    <!-- Galería / Slideshow -->
    <section id="fotos" aria-labelledby="titulo-fotos">
      <h2 id="titulo-fotos" data-i18n="photos_title">¡NOS CASAMOS!</h2>
      <div class="slideshow box" aria-live="off">
        <img id="slideA" alt="Foto 1" loading="lazy" decoding="async" />
        <img id="slideB" alt="Foto 2" loading="lazy" decoding="async" />
      </div>
    </section>

    <section class="hero" id="invitacion">
      <p class="kicker" data-i18n="kicker">¡Nos casamos!</p>
      <h1 data-i18n="hero_title">Acompáñanos en un día muy especial</h1>
      <p data-i18n="hero_sub">Aquí encontrarás toda la información esencial de la celebración.</p>
      <a class="btn" href="#contacto" data-i18n="hero_btn">Escríbenos</a>
    </section>

    <section aria-labelledby="titulo-inv">
      <h2 id="titulo-inv" data-i18n="inv_title">Invitación</h2>
      <div class="row">
        <div class="card">
          <p data-i18n="inv_text_1">Nos hace mucha ilusión invitarte a nuestra boda. Será un día lleno de alegría, familia y amigos.</p>
          <ul class="list">
            <li><strong data-i18n="when">Cuándo:</strong> <span data-i18n="when_val">Sábado, 25 de octubre de 2025 · 17:00</span></li>
            <li><strong data-i18n="where">Dónde:</strong> <span data-i18n="where_val">Masía Bonita, Valencia</span></li>
            <li><strong data-i18n="dress">Código de vestimenta:</strong> <span data-i18n="dress_val">Cóctel</span></li>
          </ul>
        </div>
        <div class="card">
          <p data-i18n="inv_text_2">Si necesitas alojamiento o transporte, háznoslo saber y te ayudamos con recomendaciones.</p>
          <p data-i18n="inv_text_3">Confirma tu asistencia antes del </p>
          <a class="btn" href="#contacto" data-i18n="rsvp_btn">Confirmar asistencia</a>
        </div>
      </div>
    </section>

    <!-- Mapa -->
    <section id="mapa" aria-labelledby="titulo-mapa">
      <h2 id="titulo-mapa" data-i18n="map_title">Cómo llegar</h2>
      <div class="map-wrap">
        <iframe
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          allowfullscreen
          src="https://www.google.com/maps?q=Mas%C3%ADa%20San%20Agust%C3%ADn&output=embed">
        </iframe>
      </div>
    </section>

    <section id="contacto" aria-labelledby="titulo-ct">
      <h2 id="titulo-ct" data-i18n="ct_title">Contacto</h2>
      <div class="row">
        <div class="card">
          <p data-i18n="ct_text">Para cualquier duda o para confirmar asistencia:</p>
          <p><strong data-i18n="email">Email:</strong> <a href="mailto:tunombre@example.com">tunombre@example.com</a></p>
          <p><strong data-i18n="phone">Teléfono:</strong> <a href="tel:+34111222333">+34 111 222 333</a></p>
        </div>
        <div class="card">
          <form id="rsvpForm" action="https://formspree.io/f/XXXXXXXX" method="POST" novalidate>
            <label>
              <span data-i18n="form_name">Nombre</span><br />
              <input required name="name" type="text" placeholder="Tu nombre" aria-required="true" style="width:100%;padding:10px;border:1px solid var(--ring);border-radius:10px" />
            </label>
            <br /><br />
            <label>
              <span data-i18n="form_msg">Mensaje</span><br />
              <textarea required name="message" rows="4" placeholder="Tu mensaje" aria-required="true" style="width:100%;padding:10px;border:1px solid var(--ring);border-radius:10px"></textarea>
            </label>
            <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" aria-hidden="true" />
            <br />
            <button class="btn" type="submit" data-i18n="form_send">Enviar</button>
            <p id="formStatus" role="status" aria-live="polite" style="margin-top:8px;color:var(--muted);font-size:12px"></p>
            <p style="color:var(--muted);font-size:12px" data-i18n="form_note">El formulario enviará el mensaje al correo configurado.</p>
          </form>
        </div>
      </div>
    </section>

    <footer>
      <p data-i18n="foot">Con ❤️, Nombre & Nombre · 2025</p>
    </footer>
  </main>

  <script>
    // Diccionario ES / Valencià
    const i18n = {
      es: {
        brand: "Nombre & Nombre",
        tab_inv: "Invitación",
        tab_cta: "Contacto",
        kicker: "¡Nos casamos!",
        hero_title: "Acompáñanos en un día muy especial",
        hero_sub: "Aquí encontrarás toda la información esencial de la celebración.",
        hero_btn: "Escríbenos",
        inv_title: "Invitación",
        inv_text_1: "Nos hace mucha ilusión invitarte a nuestra boda. Será un día lleno de alegría, familia y amigos.",
        when: "Cuándo:",
        where: "Dónde:",
        dress: "Código de vestimenta:",
        when_val: "Sábado, 25 de octubre de 2025 · 17:00",
        where_val: "Masía Bonita, Valencia",
        dress_val: "Cóctel",
        inv_text_2: "Si necesitas alojamiento o transporte, háznoslo saber y te ayudamos con recomendaciones.",
        inv_text_3: "Confirma tu asistencia antes del ",
        rsvp_btn: "Confirmar asistencia",
        ct_title: "Contacto",
        ct_text: "Para cualquier duda o para confirmar asistencia:",
        email: "Email:",
        phone: "Teléfono:",
        whatsapp: "WhatsApp:",
        form_name: "Nombre",
        form_msg: "Mensaje",
        form_send: "Enviar",
        form_note: "El formulario enviará el mensaje al correo configurado.",
        form_success: "¡Gracias! Hemos recibido tu mensaje.",
        form_error: "Ups… no se ha podido enviar. Inténtalo de nuevo en un rato.",
        form_required_name: "Por favor, escribe tu nombre.",
        form_required_msg: "Por favor, escribe un mensaje.",
        photos_title: "Fotos",
        photos_note: "Consejo: sustituye las rutas del array photos en el script por tus imágenes del repositorio.",
        map_title: "Cómo llegar",
        foot: "Con ❤️, Nombre & Nombre · 2025"
      },
      ca: {
        brand: "Nom & Nom",
        tab_inv: "Invitació",
        tab_cta: "Contacte",
        kicker: "Ens casem!",
        hero_title: "Acompanya'ns en un dia molt especial",
        hero_sub: "Ací trobaràs tota la informació essencial de la celebració.",
        hero_btn: "Escriu-nos",
        inv_title: "Invitació",
        inv_text_1: "Ens fa molta il·lusió convidar-te a la nostra boda. Serà un dia ple d'alegria, família i amistats.",
        when: "Quan:",
        where: "On:",
        dress: "Codi de vestimenta:",
        when_val: "Dissabte, 25 d'octubre de 2025 · 17:00",
        where_val: "Masia Bonica, València",
        dress_val: "Còctel",
        inv_text_2: "Si necessites allotjament o transport, digueu-nos-ho i t'ajudem amb recomanacions.",
        inv_text_3: "Confirma l'assistència abans de l'",
        rsvp_btn: "Confirmar assistència",
        ct_title: "Contacte",
        ct_text: "Per a qualsevol dubte o per a confirmar assistència:",
        email: "Correu:",
        phone: "Telèfon:",
        whatsapp: "WhatsApp:",
        form_name: "Nom",
        form_msg: "Missatge",
        form_send: "Enviar",
        form_note: "El formulari enviarà el missatge al correu configurat.",
        form_success: "Gràcies! Hem rebut el teu missatge.",
        form_error: "Ups… no s'ha pogut enviar. Torna-ho a intentar més tard.",
        form_required_name: "Per favor, escriu el teu nom.",
        form_required_msg: "Per favor, escriu un missatge.",
        photos_title: "Fotos",
        photos_note: "Consell: substitueix les rutes de l'array photos al script per les teues imatges del repositori.",
        map_title: "Com arribar",
        foot: "Amb ❤️, Nom & Nom · 2025"
      }
    };

    const $ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));

    function setLang(lang){
      const dict = i18n[lang] || i18n.es;
      document.documentElement.lang = lang === 'ca' ? 'ca' : 'es';
      $('[data-i18n]').forEach(node => {
        const key = node.getAttribute('data-i18n');
        if (dict[key] !== undefined){
          if (key === 'inv_text_3') {
            const fecha = lang === 'ca' ? '1 de setembre' : '1 de septiembre';
            node.innerHTML = dict[key] + '<strong>' + fecha + '</strong>.';
          } else {
            node.textContent = dict[key];
          }
        }
      });
      $('.chip').forEach(btn => btn.classList.toggle('active', btn.dataset.lang === lang));
      try{ localStorage.setItem('lang', lang); }catch{}
    }

    // Enrutado suave a anclas
    $('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth',block:'start'}); }
        $('.tab').forEach(t => t.setAttribute('aria-current', t===a ? 'page' : 'false'));
      });
    });

    // Toggle idioma
    $('.chip').forEach(btn=>{
      btn.addEventListener('click', ()=> setLang(btn.dataset.lang));
    });

    // Idioma inicial
    const saved = (()=>{ try{return localStorage.getItem('lang')}catch{return null} })();
    setLang(saved || (navigator.language.startsWith('ca') ? 'ca' : 'es'));

    // ---- Envío del formulario (Formspree AJAX) ----
    const form = document.getElementById('rsvpForm');
    const statusEl = document.getElementById('formStatus');

    async function submitForm(event){
      event.preventDefault();
      statusEl.textContent = '';
      const lang = document.documentElement.lang === 'ca' ? 'ca' : 'es';
      const dict = i18n[lang];

      const formData = new FormData(form);
      const name = (formData.get('name')||'').toString().trim();
      const message = (formData.get('message')||'').toString().trim();
      if(!name){ statusEl.textContent = dict.form_required_name; return; }
      if(!message){ statusEl.textContent = dict.form_required_msg; return; }

      const endpoint = form.getAttribute('action');

      try{
        const res = await fetch(endpoint, { method:'POST', body: formData, headers: { 'Accept':'application/json' } });
        if(res.ok){
          statusEl.textContent = dict.form_success;
          form.reset();
        } else {
          statusEl.textContent = dict.form_error;
        }
      }catch(err){
        statusEl.textContent = dict.form_error;
      }
    }

    form?.addEventListener('submit', submitForm);

    // ---- Slideshow simple (cambia cada 5s) ----
    const photos = [
      'img/IMG-20231228-WA0044.jpg',
      'img/IMG-20240824-WA0022.jpg',
      'img/IMG-20240824-WA0123.jpg',
      'img/IMG_20231118_122548.jpg',
      'img/IMG_20231118_131436.jpg',
      'img/IMG_20241030_182331.jpg'
    ];
    const imgA = document.getElementById('slideA');
    const imgB = document.getElementById('slideB');
    let idx = 0, showingA = true;

    function setImg(img, url){ img.src = url; }
    function swap(){
      const next = (idx + 1) % photos.length;
      if (showingA){ setImg(imgB, photos[next]); imgB.classList.add('active'); imgA.classList.remove('active'); }
      else { setImg(imgA, photos[next]); imgA.classList.add('active'); imgB.classList.remove('active'); }
      idx = next; showingA = !showingA;
    }
    // Inicializa
    if (photos.length){ setImg(imgA, photos[0]); imgA.classList.add('active'); }
    if (photos.length>1){ setImg(imgB, photos[1]); idx = 1; showingA = false; }
    // Relevo cada 5s si hay más de 1 foto
    if (photos.length>1){ setInterval(swap, 5000); }
  </script>
</body>
</html>
