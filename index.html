
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boda — Danay & Vicent</title>
  <meta name="description" content="Invitación y contacto para nuestra boda. Español y Valencià." />
  <meta property="og:title" content="Boda — Danay & Vicent" />
  <meta property="og:description" content="Invitación y contacto para nuestra boda. Español y Valencià." />
  <meta property="og:type" content="website" />
  <!-- Fuente manuscrita elegante -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    :root{
      /* Paleta oliva suau */
      --bg:#d2f0af;           /* fons verd oliva un punt més fosc */
      --card:#e6eee3;         /* targetes */
      --ink:#1d1d1f;          /* text principal */
      --muted:#556158;        /* text mut */
      --accent:#4f8a4f;       /* botó/accents verds */
      --accent-2:#7fb17f;     /* contorns d'accent */
      --ring:#cdd9c8;         /* línies suaus */
      --olive-ink:#3f5141;    /* per a la frase manuscrita */
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;color:var(--ink);background:var(--bg)}
    a{color:inherit}
    .container{max-width:980px;margin:0 auto;padding:24px}
    header{position:sticky;top:0;background:rgba(241,245,241,.85);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid var(--ring);z-index:10}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{font-weight:700;letter-spacing:.5px}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{padding:10px 14px;border-radius:999px;border:1px solid var(--ring);background:var(--card);cursor:pointer}
    .tab[aria-current="page"]{border-color:var(--accent-2)}
    .lang-switch{display:flex;gap:8px}
    .chip{border:1px solid var(--ring);background:var(--card);padding:8px 12px;border-radius:999px;cursor:pointer}
    .chip.active{border-color:var(--accent);box-shadow:0 0 0 3px rgba(107,163,107,.15)}
    main{display:grid;gap:32px;padding-top:24px}
    section{background:var(--card);border:1px solid var(--ring);border-radius:20px;padding:24px}

    /* HERO amb degradat suau en verds */
    .hero{display:grid;gap:12px;text-align:center;padding:40px 24px;border-radius:24px;background:conic-gradient(from 140deg at 50% 50%, #f3f8f3, #ffffff, #edf6ef)}
    .hero h1{margin:0;font-size:clamp(28px,5vw,44px)}
    .hero p{margin:0;color:var(--muted);font-size:clamp(14px,2.4vw,18px)}

    .row{display:grid;gap:24px}
    @media (min-width:768px){.row{grid-template-columns:1fr 1fr}}
    .card{border:1px solid var(--ring);border-radius:16px;padding:20px}
    .kicker{letter-spacing:.12em;text-transform:uppercase;color:var(--muted);font-size:12px}
    .btn{display:inline-block;margin-top:12px;padding:12px 16px;border-radius:12px;border:1px solid var(--accent-2);background:var(--accent);color:white;text-decoration:none}
    footer{color:var(--muted);font-size:14px;padding:24px 0}
    .list{padding-left:18px}
    .list li{margin:6px 0}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .muted{color:var(--muted)}

    /* --- Frase manuscrita superior --- */
    .calligraphy{background:transparent;border:0;padding:12px 0 4px}
    .calligraphy .words{
      font-family:"Great Vibes", ui-script, "Segoe Script", "Snell Roundhand", cursive;
      font-weight:400;
      text-align:center;
      color:var(--olive-ink);
      font-size:clamp(32px,6.2vw,56px);
      line-height:1.1;
      letter-spacing:.5px;
    }
    .calligraphy .big{
      font-family:"Great Vibes", ui-script, "Segoe Script", "Snell Roundhand", cursive;
      font-weight:400; text-align:center; color:var(--olive-ink);
      font-size:clamp(40px,8vw,84px); line-height:1; margin:0 0 4px; letter-spacing:.6px;
    }

    /* --- Slideshow (fijo pero adaptable) --- */
    .slideshow { position: relative; border: 1px solid var(--ring); border-radius: 16px; overflow: hidden; background: var(--card); margin-inline: auto; }
    .slideshow.box { --w: clamp(280px, 60vw, 600px); --h: clamp(280px, 70vw, 600px); inline-size: var(--w); block-size: var(--h); }
    .slideshow-title{ margin: 0 0 12px; font-size: clamp(18px, 2.6vw, 26px); font-weight: 700; text-align: center; }
    .slideshow img{
      position:absolute; inset:0; width:100%; height:100%;
      object-fit: contain; object-position: center;
      opacity:0; transition: opacity .8s;
      will-change: opacity; backface-visibility: hidden;
    }
    .slideshow img.active{ opacity:1; }

    .map-wrap{border:1px solid var(--ring);border-radius:16px;overflow:hidden}
    .map-wrap iframe{width:100%;height:360px;border:0}
  </style>
</head>
<body>
  <a href="#contenido" class="sr-only">Saltar al contenido</a>
  <header>
    <div class="container nav">
      <div class="brand" data-i18n="brand">Danay y Vicent</div>
      <div class="lang-switch" role="group" aria-label="Idioma">
        <button class="chip" data-lang="es" aria-pressed="true">ES</button>
        <button class="chip" data-lang="ca">VAL</button>
      </div>
    </div>
  </header>
  
<main id="contenido" class="container">
  <!-- Frase manuscrita elegante, damunt del carrusel -->
  <section class="calligraphy" id="lema" aria-labelledby="lema-ttl">
    <h2 id="lema-ttl" class="sr-only">Lema</h2>
    <p class="words big" data-i18n="big_title">¡Nos casamos!</p>
    <p class="words" data-i18n="words">Acompáñanos en un día muy especial para nosotros</p>
  </section>

  <!--    RECUADRO DE LAS FOTOS -->
  <section id="fotos" aria-labelledby="titulo-fotos">
    <h2 id="titulo-fotos" class="sr-only" data-i18n="photos_title">¡ NOS CASAMOS !</h2>
    <div class="slideshow box" aria-live="off">
      <img id="slideA" alt="Foto 1" loading="lazy" decoding="async" />
      <img id="slideB" alt="Foto 2" loading="lazy" decoding="async" />
    </div>
  </section>

  <section class="hero" id="invitacion">
    <h1 data-i18n="hero_title">Queremos celebrarlo y que nos acompañes en un día muy especial para nosotros</h1>
    <p data-i18n="hero_sub">Hemos reservado una masía en Montcada para vivir un día tranquilo y acogedor en compañía de quienes más queremos. Nuestra intención es que nuestras familias se conozcan y disfruten juntas de una comida casera en un ambiente bonito e íntimo. Más que una boda tradicional, será como una gran comida familiar… pero en un lugar especial.</p>
    <a class="btn" href="#contacto" data-i18n="hero_btn">Contacta con nosotros y/o confirma tu asistencia!</a>
  </section>

  <section aria-labelledby="titulo-inv">
    <h2 id="titulo-inv" data-i18n="inv_title">Invitación</h2>
    <div class="row">
      <div class="card">
        <p data-i18n="inv_text_1">Nos hace mucha ilusión invitarte a nuestra boda. Será un día lleno de alegría, familia y amigos.</p>
        <ul class="list">
          <li><strong data-i18n="when">Cuándo:</strong> <span data-i18n="when_val">Domingo, 3 de mayo de 2026 · 12h</span></li>
          <li><strong data-i18n="where">Dónde:</strong> <span data-i18n="where_val">Masía San Agustín, Montcada (València).</span></li>
          <li><strong data-i18n="dress">Código de vestimenta:</strong> <span data-i18n="dress_val">Esperamos que vengáis cómod@s; os aconsejamos que no os compréis ropa nueva y que vistáis como os queráis ver en las fotos en un futuro.</span></li>
          <li><strong data-i18n="parking">Parking disponible</strong></li>
        </ul>
      </div>
      <div class="card">
        <p data-i18n="inv_text_2">Si necesitas alojamiento o transporte, háznoslo saber y te ayudamos con recomendaciones.</p>
        <p data-i18n="inv_text_3">Dinos si quieres traer a alguien contigo, ¡estaremos encantados!</p>
        <p data-i18n="inv_text_4">Confirma tu asistencia antes del <strong>1 de enero</strong>.</p>
        <a class="btn" href="#contacto" data-i18n="rsvp_btn">Confirmar asistencia</a>
      </div>
    </div>
  </section>

  <!-- Mapa -->
  <section id="mapa" aria-labelledby="titulo-mapa">
    <h2 id="titulo-mapa" data-i18n="map_title">Cómo llegar</h2>
    <div class="map-wrap">
      <iframe
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
        allowfullscreen
        src="https://www.google.com/maps?q=Mas%C3%ADa%20San%20Agust%C3%ADn&output=embed">
      </iframe>
    </div>
  </section>

  <section id="contacto" aria-labelledby="titulo-ct">
    <h2 id="titulo-ct" data-i18n="ct_title">Contacto</h2>
    <div class="row">
      <div class="card">
        <p data-i18n="ct_text">Para cualquier duda o para confirmar asistencia:</p>
        <p>
          <strong data-i18n="email">Email:</strong>
          <a href="mailto:vicent.besteve@gmail.com">vicent.besteve@gmail.com</a>
          /
          <a href="mailto:danayc26@gmail.com">danayc26@gmail.com</a>
        </p>
        <p>
          <strong data-i18n="phone">Teléfono (+34):</strong>
          <a href="tel:+34682028382">+34 682 028 382</a>
          /
          <a href="tel:+34642333158">+34 642 333 158</a>
        </p>
      </div>

      <div class="card">
        <form id="rsvpForm" action="https://formspree.io/f/xqayeqla" method="POST" novalidate>
          <label>
            <span data-i18n="form_name">Nombre</span><br />
            <input required name="name" type="text" placeholder="Tu nombre" aria-required="true" style="width:100%;padding:10px;border:1px solid var(--ring);border-radius:10px" />
          </label>
          <br /><br />
          <label>
            <span data-i18n="form_msg">Mensaje</span><br />
            <textarea required name="message" rows="4" placeholder="Tu mensaje" aria-required="true" style="width:100%;padding:10px;border:1px solid var(--ring);border-radius:10px"></textarea>
          </label>
          <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" aria-hidden="true" />
          <br />
          <button class="btn" type="submit" data-i18n="form_send">Enviar</button>
          <p id="formStatus" role="status" aria-live="polite" style="margin-top:8px;color:var(--muted);font-size:12px"></p>
          <p style="color:var(--muted);font-size:12px" data-i18n="form_note">El formulario enviará el mensaje al correo configurado.</p>
        </form>
      </div>
    </div>
  </section>

  <footer>
    <p data-i18n="foot">Con ❤️, Nombre & Nombre · 2025</p>
  </footer>
</main>

<script>
// Diccionario ES / Valencià
const i18n = {
  es: {
    brand: "Danay y Vicent",
    tab_inv: "Invitación",
    tab_cta: "Contacto",
    kicker: "¡Nos casamos!",
    photos_title: "¡NOS CASAMOS!",
    hero_title: "Queremos celebrarlo y que nos acompañes en un día muy especial para nosotros",
    hero_sub: "Hemos reservado una masía en Montcada para vivir un día tranquilo y acogedor en compañía de quienes más queremos. Nuestra intención es que nuestras familias se conozcan y disfruten juntas de una comida casera en un ambiente bonito e íntimo. Más que una boda tradicional, será como una gran comida familiar… pero en un lugar especial.",
    hero_btn: "Contacta con nosotros y/o confirma tu asistencia!",
    inv_title: "Invitación",
    inv_text_1: "Nos hace mucha ilusión invitarte a nuestra boda. Será un día lleno de alegría, familia y amigos.",
    when: "Cuándo:",
    where: "Dónde:",
    dress: "Código de vestimenta:",
    when_val: "Domingo, 3 de mayo de 2026 · 12h",
    where_val: "Masía San Agustín, Montcada (València).",
    dress_val: "Esperamos que vengáis cómod@s; os aconsejamos que no os compréis ropa nueva y que vistáis como os queráis ver en las fotos en un futuro.",
    parking: "Parking disponible",
    inv_text_2: "Si necesitas alojamiento o transporte, háznoslo saber y te ayudamos con recomendaciones.",
    inv_text_3: "Dinos si quieres traer a alguien contigo, ¡estaremos encantados!",
    inv_text_4: "Confirma tu asistencia antes del <strong>1 de enero</strong>.",
    rsvp_btn: "Confirmar asistencia",
    ct_title: "Contacto",
    ct_text: "Para cualquier duda o para confirmar asistencia:",
    email: "Email:",
    phone: "Teléfono (+34):",
    form_name: "Nombre",
    form_msg: "Mensaje",
    form_send: "Enviar",
    form_note: "El formulario enviará el mensaje al correo configurado.",
    form_success: "¡Gracias! Hemos recibido tu mensaje.",
    form_error: "Ups… no se ha podido enviar. Inténtalo de nuevo en un rato.",
    form_required_name: "Por favor, escribe tu nombre.",
    form_required_msg: "Por favor, escribe un mensaje.",
    photos_note: "Consejo: sustituye las rutas del array photos en el script por tus imágenes del repositorio.",
    map_title: "Cómo llegar",
    foot: "Con ❤️, Danay & Vicent · 2025",
    words: "Acompáñanos en un día muy especial para nosotros",
    big_title: "¡Nos casamos!"
  },
  ca: {
    brand: "Vicent & Danay",
    tab_inv: "Invitació",
    tab_cta: "Contacte",
    kicker: "Ens casem!",
    photos_title: "ENS CASEM !",
    hero_title: "Volem celebrar-ho i que ens acompanyes en un dia molt especial per a nosaltres",
    hero_sub: "Hem reservat una masia a Montcada per a viure un dia tranquil i acollidor amb la companyia de qui més estimem. La nostra intenció és que les nostres famílies es coneguen i gaudisquen juntes d’un dinar casolà en un ambient bonic i íntim. Més que un casament tradicional, serà com un gran dinar familiar… però en un lloc especial.",
    hero_btn: "Contacta amb nosaltres i/o confirma l’assistència!",
    inv_title: "Invitació",
    inv_text_1: "Ens fa molta il·lusió convidar-te a la nostra boda. Serà un dia ple d'alegria, família i amistats.",
    when: "Quan:",
    where: "On:",
    dress: "Codi de vestimenta:",
    when_val: "Diumenge, 3 de maig de 2026 · 12h",
    where_val: "Masia Sant Agustí, Montcada (València).",
    dress_val: "Esperem que vingueu còmodes, vos aconsellem que no compreu roba nova i que vestiu com vulgueu veure-vos en les fotos en un futur.",
    parking: "Aparcament disponible",
    inv_text_2: "Si necessites allotjament o transport, digueu-nos-ho i t'ajudem amb recomanacions.",
    inv_text_3: "Digues si vols dur algú amb tu, estarem encantats!",
    inv_text_4: "Confirma l'assistència abans del <strong>1 de gener</strong>.",
    rsvp_btn: "Confirmar assistència",
    ct_title: "Contacte",
    ct_text: "Per a qualsevol dubte o per a confirmar assistència:",
    email: "Correu:",
    phone: "Telèfon (+34):",
    form_name: "Nom",
    form_msg: "Missatge",
    form_send: "Enviar",
    form_note: "El formulari enviarà el missatge al correu configurat.",
    form_success: "Gràcies! Hem rebut el teu missatge.",
    form_error: "Ups… no s'ha pogut enviar. Torna-ho a intentar més tard.",
    form_required_name: "Per favor, escriu el teu nom.",
    form_required_msg: "Per favor, escriu un missatge.",
    photos_note: "Consell: substitueix les rutes de l'array photos al script per les teues imatges del repositori.",
    map_title: "Com arribar",
    foot: "Amb ❤️, Vicent & Danay · 2025",
    words: "Acompanya'ns en un dia molt especial per a nosaltres!",
    big_title: "Ens casem!"
  }
};

const $ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
const HTML_KEYS = new Set(['inv_text_4']); // claus que poden contindre HTML

function setLang(lang){
  const dict = i18n[lang] || i18n.es;
  document.documentElement.lang = lang === 'ca' ? 'ca' : 'es';
  $('[data-i18n]').forEach(node => {
    const key = node.getAttribute('data-i18n');
    if (dict[key] !== undefined){
      if (HTML_KEYS.has(key)) {
        node.innerHTML = dict[key];
      } else {
        node.textContent = dict[key];
      }
    }
  });
  $('.chip').forEach(btn => btn.classList.toggle('active', btn.dataset.lang === lang));
  try{ localStorage.setItem('lang', lang); }catch{}
}

// Enrutado suave a anclas
$('a[href^="#"]').forEach(a=>{
  a.addEventListener('click', e=>{
    const id = a.getAttribute('href').slice(1);
    const el = document.getElementById(id);
    if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth',block:'start'}); }
    $('.tab').forEach(t => t.setAttribute('aria-current', t===a ? 'page' : 'false'));
  });
});

// Toggle idioma
$('.chip').forEach(btn=>{
  btn.addEventListener('click', ()=> setLang(btn.dataset.lang));
});

// Idioma inicial
const saved = (()=>{ try{return localStorage.getItem('lang')}catch{return null} })();
setLang(saved || (navigator.language.startsWith('ca') ? 'ca' : 'es'));

// ---- Envío del formulario (Formspree AJAX) ----
const form = document.getElementById('rsvpForm');
const statusEl = document.getElementById('formStatus');

async function submitForm(event){
  event.preventDefault();
  statusEl.textContent = '';
  const lang = document.documentElement.lang === 'ca' ? 'ca' : 'es';
  const dict = i18n[lang];

  const formData = new FormData(form);
  const name = (formData.get('name')||'').toString().trim();
  const message = (formData.get('message')||'').toString().trim();
  if(!name){ statusEl.textContent = dict.form_required_name; return; }
  if(!message){ statusEl.textContent = dict.form_required_msg; return; }

  const endpoint = form.getAttribute('action');

  try{
    const res = await fetch(endpoint, { method:'POST', body: formData, headers: { 'Accept':'application/json' } });
    if(res.ok){
      statusEl.textContent = dict.form_success;
      form.reset();
    } else {
      statusEl.textContent = dict.form_error;
    }
  }catch(err){
    statusEl.textContent = dict.form_error;
  }
}

form?.addEventListener('submit', submitForm);

// ---- Slideshow amb pre-carrega (suau, sense “parpelleig”) ----
const photos = [ 'img/IMG-20231228-WA0044.jpg', 'img/IMG-20240824-WA0022.jpg', 'img/IMG-20240824-WA0123.jpg', 'img/IMG_20231118_122548.jpg', 'img/IMG_20231118_131436.jpg', 'img/IMG_20241030_182331.jpg', 'img/WhatsApp Image 2025-09-27 at 10.55.44.jpeg', 'img/WhatsApp Image 2025-09-27 at 10.58.06.jpeg', 'img/WhatsApp Image 2025-09-27 at 11.00.08.jpeg', 'img/WhatsApp Image 2025-09-27 at 11.07.08.jpeg', 'img/WhatsApp Image 2025-09-27 at 11.07.13.jpeg', 'img/WhatsApp Image 2025-09-27 at 11.07.17.jpeg', 'img/WhatsApp Image 2025-09-27 at 11.07.18.jpeg', 'img/WhatsApp Image 2025-09-27 at 11.07.19.jpeg', 'img/WhatsApp Image 2025-09-27 at 11.13.03.jpeg', 'img/WhatsApp Image 2025-09-27 at 11.13.04.jpeg', 'img/WhatsApp Image 2025-09-27 at 11.13.05.jpeg', 'img/WhatsApp Image 2025-09-27 at 11.13.06.jpeg' ];
const imgA = document.getElementById('slideA');
const imgB = document.getElementById('slideB');
let idx = 0, showingA = true;

function setImg(img, url){ img.src = url; }

function swap(){
  const next = (idx + 1) % photos.length;
  const target = showingA ? imgB : imgA; // la que entra
  const preloader = new Image();
  preloader.decoding = 'async';
  preloader.onload = () => {
    setImg(target, photos[next]);            // solo cambiamos src cuando YA cargó
    if (showingA){ target.classList.add('active'); imgA.classList.remove('active'); }
    else { target.classList.add('active'); imgB.classList.remove('active'); }
    idx = next; showingA = !showingA;
  };
  preloader.src = photos[next];
}

// Inicializa
if (photos.length){ setImg(imgA, photos[0]); imgA.classList.add('active'); }
if (photos.length>1){ setImg(imgB, photos[1]); idx = 1; showingA = false; }
// Relevo cada 5s si hay más de 1 foto
if (photos.length>1){ setInterval(swap, 5000); }
</script>
</body>
</html>
